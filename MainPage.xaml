<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FireSignage.MainPage"
             xmlns:model="clr-namespace:FireSignage.Models"
             xmlns:fontAwesome="clr-namespace:FontAwesome"
             Title="{Binding Title}"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:viewmodel="clr-namespace:FireSignage.Viewmodels"
             Shell.TabBarIsVisible="False"
             xmlns:ListView="clr-namespace:Syncfusion.Maui.ListView;assembly=Syncfusion.Maui.ListView"
             xmlns:data="clr-namespace:Syncfusion.Maui.DataSource;assembly=Syncfusion.Maui.DataSource"
             xmlns:local="clr-namespace:FireSignage">


     <ContentPage.Behaviors>
        <toolkit:EventToCommandBehavior
        EventName="Appearing"
        Command="{Binding GetSignsCommand}" />

         

    </ContentPage.Behaviors>

    <ContentPage.BindingContext>
        <viewmodel:PremadeViewModel />
    </ContentPage.BindingContext>
    
<VerticalStackLayout>



     <Grid
        ColumnDefinitions="*,*"
        ColumnSpacing="5"
        RowDefinitions="150,60,25,*,25"
        RowSpacing="5"
        Margin="0,10,0,0">



    <Label BackgroundColor="Black" HeightRequest="150" Grid.Row="0" Margin="5" Grid.ColumnSpan="2" WidthRequest="280" HorizontalOptions="Start"/>
   

<SwipeView WidthRequest="100"
                       Grid.Row="0" Grid.Column="1"
                       HorizontalOptions="EndAndExpand"
                       Margin="0,0,5,0">

     <SwipeView.LeftItems>
        <SwipeItems SwipeBehaviorOnInvoked="Auto">

            <SwipeItem Text="Help"
                       IconImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.QuestionCircle},
                                        Color=Green,
                                        Size=15}"
                       BackgroundColor="DarkGray"
                        />


        </SwipeItems>
    </SwipeView.LeftItems>

    <VerticalStackLayout WidthRequest="100"
                       Grid.Row="0" Grid.Column="1"
                       HorizontalOptions="EndAndExpand"
                       Spacing="5" Margin="0,0,5,0">
    

                    
    <Button Text="Connected" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.Signal},
                                        Color=Green,
                                        Size=15}"  />

    


    <Button Text="Edit" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.PenToSquare},
                                        Color=Black,
                                        Size=15}" />

   

    <Button Text="Send" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.ArrowRightArrowLeft},
                                        Color=Black,
                                        Size=15}" />


    </VerticalStackLayout>
</SwipeView>

<HorizontalStackLayout Grid.Row="1" Grid.ColumnSpan="2" Margin="10" Spacing="10">
    <Button Text="All Signs" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.PenToSquare},
                                        Color=Black,
                                        Size=20}" Padding="5"/>

   

    <Button Text="Favs" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.ArrowRightArrowLeft},
                                        Color=Black,
                                        Size=20}" Padding="5"/>

    <Button Text="Rideshare" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.PenToSquare},
                                        Color=Black,
                                        Size=20}" Padding="5"/>

   

    <Button Text="Business" ImageSource="{FontImage FontFamily=fas6,
                                        Glyph={x:Static fontAwesome:FontAwesomeIcons.ArrowRightArrowLeft},
                                        Color=Black,
                                        Size=20}" Padding="5"/>


</HorizontalStackLayout>

    


<ScrollView Grid.Row="3" Grid.ColumnSpan="2">

 <ListView:SfListView x:Name="listView" ItemsSource="{Binding GetSigns}"
                        Grid.Row="3" Grid.ColumnSpan="2"
                        ItemSize="100"
                        AllowGroupExpandCollapse="True"
                       >
    <ListView:SfListView.DataSource>
      <data:DataSource>
        <data:DataSource.GroupDescriptors>
          <data:GroupDescriptor PropertyName="Category" />
        </data:DataSource.GroupDescriptors>
      </data:DataSource>
    </ListView:SfListView.DataSource>

    <ListView:SfListView.GroupHeaderTemplate>
    <DataTemplate>
      <ViewCell>
        <ViewCell.View>
          <StackLayout BackgroundColor="#E4E4E4">
            <Label Text="{Binding Key}"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="Black"
                   TextTransform="Uppercase"
                    />
          </StackLayout>
        </ViewCell.View>
      </ViewCell>
    </DataTemplate>
  </ListView:SfListView.GroupHeaderTemplate>

      <ListView:SfListView.ItemsLayout>
        <ListView:GridLayout SpanCount="2" />
      </ListView:SfListView.ItemsLayout>

<ListView:SfListView.ItemTemplate>
        <DataTemplate x:DataType="model:PreMadeSigns">
            <Grid Padding="10">
                <Frame HeightRequest="100" WidthRequest="200" Style="{StaticResource CardView}">

                <VerticalStackLayout Padding="10">
                
                    <Label VerticalOptions="Center" FontSize="30" Text="{Binding Displaytext}" TextColor="White" HorizontalTextAlignment="Center"/>
                    <Label VerticalOptions="Center" FontSize="30" Text="{Binding Displaytext2}" TextColor="Red" HorizontalTextAlignment="Center" />

                </VerticalStackLayout>

                </Frame>
            </Grid>




        </DataTemplate>


</ListView:SfListView.ItemTemplate>



  </ListView:SfListView>
</ScrollView>
 <Label Grid.Row="4"/>  
</Grid>

</VerticalStackLayout>
</ContentPage>
